(function(t){function e(e){for(var a,o,s=e[0],c=e[1],l=e[2],d=0,p=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(p.length)p.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(a=!1)}a&&(r.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},i={app:0},r=[];function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"03ae":function(t,e,n){"use strict";var a=n("dee4"),i=n.n(a);i.a},"4d71":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);var a={};n.r(a),n.d(a,"getMusicList",(function(){return O})),n.d(a,"getLink",(function(){return P})),n.d(a,"save",(function(){return L})),n.d(a,"download",(function(){return $}));n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Home")],1)},o=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"page"},[n("div",{staticClass:"search-box center"},[n("div",{staticClass:"bg"}),n("div",{staticClass:"search"},[n("el-input",{staticStyle:{width:"725px",height:"55px"},attrs:{placeholder:"搜索音乐/MV/歌单/歌手",size:"large"},model:{value:t.key,callback:function(e){t.key=e},expression:"key"}},[n("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.searchMusic},slot:"append"})],1)],1)]),n("div",{staticClass:"container"},[t._m(0),n("div",{staticClass:"musics"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.dataList}},[n("el-table-column",{attrs:{label:"序号",type:"index",width:"50"}}),n("el-table-column",{attrs:{label:"歌曲",width:"400"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticClass:"flex-vertical-center"},[n("el-image",{staticStyle:{width:"55px",height:"55px","margin-right":"30px"},attrs:{src:e.row.pic,fit:"fit"}}),n("div",{staticClass:"center",staticStyle:{height:"55px"}},[n("span",{staticClass:"music-title"},[t._v(t._s(e.row.name))]),n("img",{staticStyle:{width:"30px",height:"16px","margin-left":"5px"},attrs:{src:"/assets/wusun.png"}}),n("img",{staticStyle:{width:"30px",height:"30px","margin-left":"5px"},attrs:{src:"/assets/mv.png"}})])],1)]}}])}),n("el-table-column",{attrs:{prop:"artist",label:"歌手",width:"120"}}),n("el-table-column",{attrs:{prop:"album",width:"200",label:"专辑"}}),n("el-table-column",{attrs:{prop:"songTimeMinutes",label:"时长"}}),n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-link",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",underline:!1},on:{click:function(n){return t.fastDownloadMusic(e.row.rid,e.row.name)}}},[t._v("播放 ")]),n("el-link",{attrs:{type:"primary",underline:!1},on:{click:function(n){return t.downloadMusic(e.row)}}},[t._v("下载 ")])]}}])})],1)],1)])])},c=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tabs"},[n("span",{staticClass:"result-text"},[t._v("搜索结果")]),n("div",{staticClass:"tabs-title"},[n("ul",[n("li",{staticClass:"active"},[t._v("单曲")]),n("li",[t._v("专辑")]),n("li",[t._v("MV")]),n("li",[t._v("歌单")]),n("li",[t._v("歌手")])])])])}];n("b0c0"),n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d");var l="https://music.chengfeng8.top/api",u="https://tb.xqcrm.com/api/open/auth",d="https://oauth.taobao.com/authorize?response_type=code&client_id=12686282&redirect_uri=".concat(u,"&view=web&state=short"),p={baseUrl:l,authUrl:d},f={name:"HelloWorld",props:{msg:String},methods:{searchMusic:function(){var t=this;this.loading=!0,this.musicService.getMusicList({key:this.key,pageNo:this.page.pageNo,pageSize:this.page.pageSize}).then((function(e){200===e.code&&(t.dataList=e.data.list,t.page.total=e.data.total)})).finally((function(){return t.loading=!1}))},fastDownloadMusic:function(t,e){this.musicService.getLink({rid:t}).then((function(t){window.open(t.data)}))},downloadMusic:function(t){var e=this;delete t.mvpayinfo,delete t.payInfo;var n=this.$loading({lock:!0,text:"服务器正在合成资源"});this.musicService.save(t).then((function(n){0===n.code?window.open(p.baseUrl+"/music/download?artist="+t.artist+"&name="+t.name):e.$message.error("服务器准备资源失败")})).finally((function(){return n.close()}))}},data:function(){return{loading:!1,key:"周杰伦",dataList:[],page:{total:0,pageNo:1,pageSize:20}}}},h=f,m=(n("03ae"),n("2877")),v=Object(m["a"])(h,s,c,!1,null,null,null),g=v.exports,b={name:"App",components:{Home:g}},w=b,y=Object(m["a"])(w,r,o,!1,null,null,null),x=y.exports,_=(n("4d71"),n("99af"),n("bc3a")),S=n.n(_),k=n("4328"),M=n.n(k);function C(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,a){S.a.get(t,{params:e}).then((function(t){n(t.data)})).catch((function(t){!1!==t&&(void 0).$message.error("服务器请求错误"),a(t)}))}))}function j(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,a){S.a.post(t,e).then((function(t){n(t.data)}),(function(t){!1!==t&&(void 0).$message.error("服务器请求错误"),a(t)}))}))}S.a.defaults.timeout=5e4,S.a.defaults.headers["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8",S.a.interceptors.request.use((function(t){return t.baseURL=p.baseUrl,"post"===t.method&&(t.data=M.a.stringify(t.data)),t}),(function(t){return Promise.reject(t)})),S.a.interceptors.response.use((function(t){return t}),(function(t){reject(t)}));var O=function(t){return C("/music/list",t)},P=function(t){return C("/music/link",t)},L=function(t){return j("/music/save",t)},$=function(t){return C("/music/download",t)},T=n("5c96"),U=n.n(T);n("0fae");i["default"].use(U.a),i["default"].config.productionTip=!1,i["default"].prototype.musicService=a,new i["default"]({render:function(t){return t(x)}}).$mount("#app")},dee4:function(t,e,n){}});
//# sourceMappingURL=app.419f3eda.js.map